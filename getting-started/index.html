<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=.9,maximum-scale=.9"><meta name=description content="Get started building type-safe GraphQL servers in Golang using gqlgen"><title>Building GraphQL servers in golang &mdash; gqlgen</title><link href="https://fonts.googleapis.com/css?family=Roboto:400,400i,700|Source+Code+Pro:400,700|Work+Sans:500,700" rel=stylesheet><link rel=stylesheet href="https://gqlgen.com/main.css?v=3" type=text/css><link rel=stylesheet href="https://gqlgen.com/syntax.css?v=2" type=text/css><script async src="https://www.googletagmanager.com/gtag/js?id=UA-116208894-2"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-116208894-2');</script><script src="https://gqlgen.com/main.js?v=1" async></script></head><body><div class=version-switcher><span></span><div class=version-switcher-options><a class=version-switcher-option></a></div></div><div class=layout--logo><a class=logo href=http://github.com/99designs/gqlgen><svg viewBox="0 0 31.92 31.43" xmlns="http://www.w3.org/2000/svg"><g transform="translate(-79.29 -106.7)"><path transform="matrix(.2646 0 0 .2646 79.29 106.7)" d="m31.95.0c-5.673.0-10.27 4.598-10.27 10.27.0.5862.06001 1.157.1543 1.717l-19.74 11.39c-1.239.5653-2.1 1.816-2.1 3.266v65.51h.01562c.001603 1.235.6446 2.437 1.793 3.096l20.03 11.56c-.09429.5594-.1543 1.131-.1543 1.717.0 5.673 4.598 10.27 10.27 10.27 5.674.0 10.27-4.6 10.27-10.27.0-5.673-4.598-10.27-10.27-10.27-2.492.0-4.774.8879-6.553 2.363l-18.22-10.52v-61.4l18.22-10.52c1.778 1.475 4.061 2.363 6.553 2.363 5.674.0 10.27-4.6 10.27-10.27.0-5.673-4.598-10.27-10.27-10.27zm56.73.0c-5.673.0-10.27 4.598-10.27 10.27.0 5.673 4.598 10.27 10.27 10.27 2.492.0 4.776-.8879 6.555-2.363l18.22 10.52v61.4l-18.22 10.52c-1.778-1.474-4.062-2.361-6.553-2.361-5.673.0-10.27 4.598-10.27 10.27.0 5.673 4.598 10.27 10.27 10.27 5.675.0 10.27-4.6 10.27-10.27.0-.5862-.06002-1.157-.1543-1.717l19.74-11.39c1.239-.5653 2.1-1.814 2.1-3.264v-65.51h-.01562c-.00133-1.236-.6437-2.438-1.793-3.098l-20.03-11.56c.09428-.5594.1543-1.131.1543-1.717.0-5.673-4.597-10.27-10.27-10.27zm-28.37 20.76c-5.675.0-10.27 4.598-10.27 10.27.0 1.524.3402 2.967.9355 4.268l-14.76 14.76c-1.301-.5953-2.742-.9355-4.266-.9355-5.673.0-10.27 4.598-10.27 10.27.0 5.673 4.598 10.27 10.27 10.27 1.524.0 2.963-.3406 4.264-.9355l14.77 14.77c-.5953 1.301-.9355 2.742-.9355 4.266.0 5.673 4.599 10.27 10.27 10.27 5.672.0 10.27-4.596 10.27-10.27.0-1.524-.3401-2.965-.9355-4.266l15.63-15.63c.5748.0998 1.162.1621 1.766.1621 5.675.0 10.27-4.598 10.27-10.27.0-5.675-4.599-10.27-10.27-10.27-1.524.0-2.965.3404-4.266.9355l-13.13-13.13c.5954-1.301.9355-2.743.9355-4.268.0-5.673-4.599-10.27-10.27-10.27zm-4.266 19.61c1.3.5949 2.742.9355 4.266.9355 1.523.0 2.964-.3408 4.264-.9355l13.13 13.13c-.5948 1.3-.9355 2.742-.9355 4.266.0 2.377.8147 4.558 2.17 6.299l-14.36 14.37c-1.3-.5947-2.741-.9336-4.264-.9336-1.524.0-2.965.3388-4.266.9336l-14.77-14.77c.5949-1.3.9355-2.74.9355-4.264.0-1.523-.3389-2.964-.9336-4.264l14.76-14.77z"/></g></svg><span class=logo--name>gqlgen</span></a></div><nav><input class=hamburger-toggle type=checkbox><div class=hamburger><span></span><span></span><span></span></div><ul class=menu><li><a class=menu-item href=https://gqlgen.com/>Introduction</a></li><li class=active><a class=menu-item href=https://gqlgen.com/getting-started/>Getting Started</a></li><li><a class=menu-item href=https://gqlgen.com/config/>Configuration</a></li><li><a class=menu-item href=https://gqlgen.com/feature-comparison/>Feature Comparison</a></li><li><span class="menu-item submenu-heading">Reference</span><ul class=submenu><li><a class=menu-item href=https://gqlgen.com/reference/apq/>APQ</a></li><li><a class=menu-item href=https://gqlgen.com/reference/changesets/>Changesets</a></li><li><a class=menu-item href=https://gqlgen.com/reference/dataloaders/>Dataloaders</a></li><li><a class=menu-item href=https://gqlgen.com/reference/field-collection/>Field Collection</a></li><li><a class=menu-item href=https://gqlgen.com/reference/file-upload/>File Upload</a></li><li><a class=menu-item href=https://gqlgen.com/reference/errors/>Handling Errors</a></li><li><a class=menu-item href=https://gqlgen.com/reference/introspection/>Introspection</a></li><li><a class=menu-item href=https://gqlgen.com/reference/plugins/>Plugins</a></li><li><a class=menu-item href=https://gqlgen.com/reference/complexity/>Query Complexity</a></li><li><a class=menu-item href=https://gqlgen.com/reference/resolvers/>Resolvers</a></li><li><a class=menu-item href=https://gqlgen.com/reference/scalars/>Scalars</a></li><li><a class=menu-item href=https://gqlgen.com/reference/directives/>Schema Directives</a></li><li><a class=menu-item href=https://godoc.org/github.com/99designs/gqlgen>godoc
<span class=icon><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M576 24v127.984c0 21.461-25.96 31.98-40.971 16.971l-35.707-35.709-243.523 243.523c-9.373 9.373-24.568 9.373-33.941.0l-22.627-22.627c-9.373-9.373-9.373-24.569.0-33.941L442.756 76.676l-35.703-35.705C391.982 25.9 402.656.0 424.024.0H552c13.255.0 24 10.745 24 24zM407.029 270.794l-16 16A23.999 23.999.0 00384 303.765V448H64V128h264a24.003 24.003.0 0016.97-7.029l16-16C376.089 89.851 365.381 64 344 64H48C21.49 64 0 85.49.0 112v352c0 26.51 21.49 48 48 48h352c26.51.0 48-21.49 48-48V287.764c0-21.382-25.852-32.09-40.971-16.97z"/></svg></span></a></li></ul></li><li><span class="menu-item submenu-heading">Recipes</span><ul class=submenu><li><a class=menu-item href=https://gqlgen.com/recipes/federation/>Apollo Federation</a></li><li><a class=menu-item href=https://gqlgen.com/recipes/authentication/>Authentication</a></li><li><a class=menu-item href=https://gqlgen.com/recipes/cors/>CORS</a></li><li><a class=menu-item href=https://gqlgen.com/recipes/gin/>Gin</a></li><li><a class=menu-item href=https://gqlgen.com/recipes/migration-0.11/>Migrating to 0.11</a></li><li><a class=menu-item href=https://gqlgen.com/recipes/modelgen-hook/>Modelgen hook</a></li></ul></li></ul></nav><header><div class=content><h1>Getting Started</h1><div class=description>Building GraphQL servers in golang</div><a class=header-link target=_blank href=https://github.com/99designs/gqlgen/blob/master/docs/content/getting-started.md>[edit]</a></div></header><main><div class=content><p>This tutorial will take you through the process of building a GraphQL server with gqlgen that can:</p><ul><li>Return a list of todos</li><li>Create new todos</li><li>Mark off todos as they are completed</li></ul><p>You can find the finished code for this tutorial <a href=https://github.com/vektah/gqlgen-tutorials/tree/master/gettingstarted>here</a></p><h2 id=setup-project>Setup Project</h2><p>Create a directory for your project, and initialise it as a Go Module:</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>$ mkdir gqlgen-todos
$ <span class=nb>cd</span> gqlgen-todos
$ go mod init github.com/<span class=o>[</span>username<span class=o>]</span>/gqlgen-todos
$ go get github.com/99designs/gqlgen
</code></pre></div><h2 id=building-the-server>Building the server</h2><h3 id=create-the-project-skeleton>Create the project skeleton</h3><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>$ go run github.com/99designs/gqlgen init
</code></pre></div><p>This will create our suggested package layout. You can modify these paths in gqlgen.yml if you need to.</p><pre><code>├── go.mod
├── go.sum
├── gqlgen.yml               - The gqlgen config file, knobs for controlling the generated code.
├── graph
│   ├── generated            - A package that only contains the generated runtime
│   │   └── generated.go
│   ├── model                - A package for all your graph models, generated or otherwise
│   │   └── models_gen.go
│   ├── resolver.go          - The root graph resolver type. This file wont get regenerated
│   ├── schema.graphqls      - Some schema. You can split the schema into as many graphql files as you like
│   └── schema.resolvers.go  - the resolver implementation for schema.graphql
└── server.go                - The entry point to your app. Customize it however you see fit
</code></pre><h3 id=define-your-schema>Define your schema</h3><p>gqlgen is a schema-first library — before writing code, you describe your API using the GraphQL
<a href=http://graphql.org/learn/schema/>Schema Definition Language</a>. By default this goes into a file called
<code>schema.graphql</code> but you can break it up into as many different files as you want.</p><p>The schema that was generated for us was:</p><div class=highlight><pre class=chroma><code class=language-graphql data-lang=graphql><span class=kd>type</span><span class=w> </span><span class=nc>Todo</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>  </span><span class=py>id</span><span class=p>:</span><span class=w> </span><span class=nc>ID</span><span class=p>!</span><span class=w>
</span><span class=w>  </span><span class=py>text</span><span class=p>:</span><span class=w> </span><span class=nc>String</span><span class=p>!</span><span class=w>
</span><span class=w>  </span><span class=py>done</span><span class=p>:</span><span class=w> </span><span class=nc>Boolean</span><span class=p>!</span><span class=w>
</span><span class=w>  </span><span class=py>user</span><span class=p>:</span><span class=w> </span><span class=nc>User</span><span class=p>!</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=kd>type</span><span class=w> </span><span class=nc>User</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>  </span><span class=py>id</span><span class=p>:</span><span class=w> </span><span class=nc>ID</span><span class=p>!</span><span class=w>
</span><span class=w>  </span><span class=py>name</span><span class=p>:</span><span class=w> </span><span class=nc>String</span><span class=p>!</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=kd>type</span><span class=w> </span><span class=nc>Query</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>  </span><span class=py>todos</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=nc>Todo</span><span class=p>!]!</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=kd>input</span><span class=w> </span><span class=nc>NewTodo</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>  </span><span class=py>text</span><span class=p>:</span><span class=w> </span><span class=nc>String</span><span class=p>!</span><span class=w>
</span><span class=w>  </span><span class=py>userId</span><span class=p>:</span><span class=w> </span><span class=nc>String</span><span class=p>!</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=kd>type</span><span class=w> </span><span class=nc>Mutation</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>  </span><span class=py>createTodo</span><span class=p>(</span><span class=kd>input</span><span class=p>:</span><span class=w> </span><span class=nc>NewTodo</span><span class=p>!):</span><span class=w> </span><span class=nc>Todo</span><span class=p>!</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span></code></pre></div><h3 id=implement-the-resolvers>Implement the resolvers</h3><p><code>gqlgen generate</code> compares the schema file (<code>graph/schema.graphqls</code>) with the models <code>graph/model/*</code> and wherever it
can it will bind directly to the model.</p><p>If we take a look in <code>graph/schema.resolvers.go</code> we will see all the times that gqlgen couldn&rsquo;t match them up. For us
it was twice:</p><div class=highlight><pre class=chroma><code class=language-go data-lang=go><span class=kd>func</span> <span class=p>(</span><span class=nx>r</span> <span class=o>*</span><span class=nx>mutationResolver</span><span class=p>)</span> <span class=nf>CreateTodo</span><span class=p>(</span><span class=nx>ctx</span> <span class=nx>context</span><span class=p>.</span><span class=nx>Context</span><span class=p>,</span> <span class=nx>input</span> <span class=nx>model</span><span class=p>.</span><span class=nx>NewTodo</span><span class=p>)</span> <span class=p>(</span><span class=o>*</span><span class=nx>model</span><span class=p>.</span><span class=nx>Todo</span><span class=p>,</span> <span class=kt>error</span><span class=p>)</span> <span class=p>{</span>
	<span class=nb>panic</span><span class=p>(</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Errorf</span><span class=p>(</span><span class=s>&#34;not implemented&#34;</span><span class=p>))</span>
<span class=p>}</span>

<span class=kd>func</span> <span class=p>(</span><span class=nx>r</span> <span class=o>*</span><span class=nx>queryResolver</span><span class=p>)</span> <span class=nf>Todos</span><span class=p>(</span><span class=nx>ctx</span> <span class=nx>context</span><span class=p>.</span><span class=nx>Context</span><span class=p>)</span> <span class=p>([]</span><span class=o>*</span><span class=nx>model</span><span class=p>.</span><span class=nx>Todo</span><span class=p>,</span> <span class=kt>error</span><span class=p>)</span> <span class=p>{</span>
	<span class=nb>panic</span><span class=p>(</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Errorf</span><span class=p>(</span><span class=s>&#34;not implemented&#34;</span><span class=p>))</span>
<span class=p>}</span>
</code></pre></div><p>We just need to implement these two methods to get our server working:</p><p>First we need somewhere to track our state, lets put it in <code>graph/resolver.go</code>:</p><div class=highlight><pre class=chroma><code class=language-go data-lang=go><span class=kd>type</span> <span class=nx>Resolver</span> <span class=kd>struct</span><span class=p>{</span>
	<span class=nx>todos</span> <span class=p>[]</span><span class=o>*</span><span class=nx>model</span><span class=p>.</span><span class=nx>Todo</span>
<span class=p>}</span>
</code></pre></div><p>This is where we declare any dependencies for our app like our database, it gets initialized once in <code>server.go</code> when
we create the graph.</p><div class=highlight><pre class=chroma><code class=language-go data-lang=go><span class=kd>func</span> <span class=p>(</span><span class=nx>r</span> <span class=o>*</span><span class=nx>mutationResolver</span><span class=p>)</span> <span class=nf>CreateTodo</span><span class=p>(</span><span class=nx>ctx</span> <span class=nx>context</span><span class=p>.</span><span class=nx>Context</span><span class=p>,</span> <span class=nx>input</span> <span class=nx>model</span><span class=p>.</span><span class=nx>NewTodo</span><span class=p>)</span> <span class=p>(</span><span class=o>*</span><span class=nx>model</span><span class=p>.</span><span class=nx>Todo</span><span class=p>,</span> <span class=kt>error</span><span class=p>)</span> <span class=p>{</span>
	<span class=nx>todo</span> <span class=o>:=</span> <span class=o>&amp;</span><span class=nx>model</span><span class=p>.</span><span class=nx>Todo</span><span class=p>{</span>
		<span class=nx>Text</span><span class=p>:</span>   <span class=nx>input</span><span class=p>.</span><span class=nx>Text</span><span class=p>,</span>
		<span class=nx>ID</span><span class=p>:</span>     <span class=nx>fmt</span><span class=p>.</span><span class=nf>Sprintf</span><span class=p>(</span><span class=s>&#34;T%d&#34;</span><span class=p>,</span> <span class=nx>rand</span><span class=p>.</span><span class=nf>Int</span><span class=p>()),</span>
		<span class=nx>User</span><span class=p>:</span> <span class=o>&amp;</span><span class=nx>model</span><span class=p>.</span><span class=nx>User</span><span class=p>{</span><span class=nx>ID</span><span class=p>:</span> <span class=nx>input</span><span class=p>.</span><span class=nx>UserID</span><span class=p>,</span> <span class=nx>Name</span><span class=p>:</span> <span class=s>&#34;user &#34;</span> <span class=o>+</span> <span class=nx>input</span><span class=p>.</span><span class=nx>UserID</span><span class=p>},</span>
	<span class=p>}</span>
	<span class=nx>r</span><span class=p>.</span><span class=nx>todos</span> <span class=p>=</span> <span class=nb>append</span><span class=p>(</span><span class=nx>r</span><span class=p>.</span><span class=nx>todos</span><span class=p>,</span> <span class=nx>todo</span><span class=p>)</span>
	<span class=k>return</span> <span class=nx>todo</span><span class=p>,</span> <span class=kc>nil</span>
<span class=p>}</span>

<span class=kd>func</span> <span class=p>(</span><span class=nx>r</span> <span class=o>*</span><span class=nx>queryResolver</span><span class=p>)</span> <span class=nf>Todos</span><span class=p>(</span><span class=nx>ctx</span> <span class=nx>context</span><span class=p>.</span><span class=nx>Context</span><span class=p>)</span> <span class=p>([]</span><span class=o>*</span><span class=nx>model</span><span class=p>.</span><span class=nx>Todo</span><span class=p>,</span> <span class=kt>error</span><span class=p>)</span> <span class=p>{</span>
	<span class=k>return</span> <span class=nx>r</span><span class=p>.</span><span class=nx>todos</span><span class=p>,</span> <span class=kc>nil</span>
<span class=p>}</span>
</code></pre></div><p>We now have a working server, to start it:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>go run server.go
</code></pre></div><p>then open http://localhost:8080 in a browser. here are some queries to try:</p><div class=highlight><pre class=chroma><code class=language-graphql data-lang=graphql><span class=kd>mutation</span><span class=w> </span><span class=nc>createTodo</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>  </span><span class=py>createTodo</span><span class=p>(</span><span class=kd>input</span><span class=p>:{</span><span class=nc>text</span><span class=p>:</span><span class=s>&#34;todo&#34;</span><span class=p>,</span><span class=w> </span><span class=nc>userId</span><span class=p>:</span><span class=sc>&#34;1&#34;</span><span class=p>})</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=nc>user</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>      </span><span class=nc>id</span><span class=w>
</span><span class=w>    </span><span class=p>}</span><span class=w>
</span><span class=w>    </span><span class=py>text</span><span class=w>
</span><span class=w>    </span><span class=py>done</span><span class=w>
</span><span class=w>  </span><span class=p>}</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=kd>query</span><span class=w> </span><span class=nc>findTodos</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=py>todos</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>      </span><span class=py>text</span><span class=w>
</span><span class=w>      </span><span class=py>done</span><span class=w>
</span><span class=w>      </span><span class=py>user</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>        </span><span class=py>name</span><span class=w>
</span><span class=w>      </span><span class=p>}</span><span class=w>
</span><span class=w>    </span><span class=p>}</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span></code></pre></div><h3 id=dont-eagerly-fetch-the-user>Don&rsquo;t eagerly fetch the user</h3><p>This example is great, but in the real world fetching most objects is expensive. We dont want to load the User on the
todo unless the user actually asked for it. So lets replace the generated <code>Todo</code> model with something slightly more
realistic.</p><p>Create a new file called <code>graph/model/todo.go</code></p><div class=highlight><pre class=chroma><code class=language-go data-lang=go><span class=kn>package</span> <span class=nx>model</span>

<span class=kd>type</span> <span class=nx>Todo</span> <span class=kd>struct</span> <span class=p>{</span>
	<span class=nx>ID</span>     <span class=kt>string</span> <span class=s>`json:&#34;id&#34;`</span>
	<span class=nx>Text</span>   <span class=kt>string</span> <span class=s>`json:&#34;text&#34;`</span>
	<span class=nx>Done</span>   <span class=kt>bool</span>   <span class=s>`json:&#34;done&#34;`</span>
	<span class=nx>UserID</span> <span class=kt>string</span> <span class=s>`json:&#34;user&#34;`</span>
<span class=p>}</span>
</code></pre></div><blockquote><p>Note</p><p>By default gqlgen will use any models in the model directory that match on name, this can be configured in <code>gqlgen.yml</code>.</p></blockquote><p>And run <code>go run github.com/99designs/gqlgen generate</code>.</p><p>Now if we look in <code>graph/schema.resolvers.go</code> we can see a new resolver, lets implement it and fix <code>CreateTodo</code>.</p><div class=highlight><pre class=chroma><code class=language-go data-lang=go><span class=kd>func</span> <span class=p>(</span><span class=nx>r</span> <span class=o>*</span><span class=nx>mutationResolver</span><span class=p>)</span> <span class=nf>CreateTodo</span><span class=p>(</span><span class=nx>ctx</span> <span class=nx>context</span><span class=p>.</span><span class=nx>Context</span><span class=p>,</span> <span class=nx>input</span> <span class=nx>model</span><span class=p>.</span><span class=nx>NewTodo</span><span class=p>)</span> <span class=p>(</span><span class=o>*</span><span class=nx>model</span><span class=p>.</span><span class=nx>Todo</span><span class=p>,</span> <span class=kt>error</span><span class=p>)</span> <span class=p>{</span>
	<span class=nx>todo</span> <span class=o>:=</span> <span class=o>&amp;</span><span class=nx>model</span><span class=p>.</span><span class=nx>Todo</span><span class=p>{</span>
		<span class=nx>Text</span><span class=p>:</span>   <span class=nx>input</span><span class=p>.</span><span class=nx>Text</span><span class=p>,</span>
		<span class=nx>ID</span><span class=p>:</span>     <span class=nx>fmt</span><span class=p>.</span><span class=nf>Sprintf</span><span class=p>(</span><span class=s>&#34;T%d&#34;</span><span class=p>,</span> <span class=nx>rand</span><span class=p>.</span><span class=nf>Int</span><span class=p>()),</span>
		<span class=nx>UserID</span><span class=p>:</span> <span class=nx>input</span><span class=p>.</span><span class=nx>UserID</span><span class=p>,</span> <span class=c1>// fix this line
</span><span class=c1></span>	<span class=p>}</span>
	<span class=nx>r</span><span class=p>.</span><span class=nx>todos</span> <span class=p>=</span> <span class=nb>append</span><span class=p>(</span><span class=nx>r</span><span class=p>.</span><span class=nx>todos</span><span class=p>,</span> <span class=nx>todo</span><span class=p>)</span>
	<span class=k>return</span> <span class=nx>todo</span><span class=p>,</span> <span class=kc>nil</span>
<span class=p>}</span>

<span class=kd>func</span> <span class=p>(</span><span class=nx>r</span> <span class=o>*</span><span class=nx>todoResolver</span><span class=p>)</span> <span class=nf>User</span><span class=p>(</span><span class=nx>ctx</span> <span class=nx>context</span><span class=p>.</span><span class=nx>Context</span><span class=p>,</span> <span class=nx>obj</span> <span class=o>*</span><span class=nx>model</span><span class=p>.</span><span class=nx>Todo</span><span class=p>)</span> <span class=p>(</span><span class=o>*</span><span class=nx>model</span><span class=p>.</span><span class=nx>User</span><span class=p>,</span> <span class=kt>error</span><span class=p>)</span> <span class=p>{</span>
	<span class=k>return</span> <span class=o>&amp;</span><span class=nx>model</span><span class=p>.</span><span class=nx>User</span><span class=p>{</span><span class=nx>ID</span><span class=p>:</span> <span class=nx>obj</span><span class=p>.</span><span class=nx>UserID</span><span class=p>,</span> <span class=nx>Name</span><span class=p>:</span> <span class=s>&#34;user &#34;</span> <span class=o>+</span> <span class=nx>obj</span><span class=p>.</span><span class=nx>UserID</span><span class=p>},</span> <span class=kc>nil</span>
<span class=p>}</span>
</code></pre></div><h2 id=finishing-touches>Finishing touches</h2><p>At the top of our <code>resolver.go</code>, between <code>package</code> and <code>import</code>, add the following line:</p><div class=highlight><pre class=chroma><code class=language-go data-lang=go><span class=c1>//go:generate go run github.com/99designs/gqlgen
</span></code></pre></div><p>This magic comment tells <code>go generate</code> what command to run when we want to regenerate our code. To run go generate recursively over your entire project, use this command:</p><div class=highlight><pre class=chroma><code class=language-go data-lang=go><span class=k>go</span> <span class=nx>generate</span> <span class=p>.</span><span class=o>/...</span>
</code></pre></div></div></main></body></html>