<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=.9,maximum-scale=.9"><meta name=description content="graphql servers the easy way"><title>&mdash; gqlgen</title><link href="https://fonts.googleapis.com/css?family=Roboto:400,400i,700|Source+Code+Pro:400,700|Work+Sans:500,700" rel=stylesheet><link rel=stylesheet href="https://gqlgen.com/main.css?v=3" type=text/css><link rel=stylesheet href="https://gqlgen.com/syntax.css?v=2" type=text/css><script async src="https://www.googletagmanager.com/gtag/js?id=UA-116208894-2"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-116208894-2');</script><script src="https://gqlgen.com/main.js?v=1" async></script></head><body><div class=version-switcher><span></span><div class=version-switcher-options><a class=version-switcher-option></a></div></div><div class=layout--logo><a class=logo href=http://github.com/99designs/gqlgen><svg viewBox="0 0 31.92 31.43" xmlns="http://www.w3.org/2000/svg"><g transform="translate(-79.29 -106.7)"><path transform="matrix(.2646 0 0 .2646 79.29 106.7)" d="m31.95.0c-5.673.0-10.27 4.598-10.27 10.27.0.5862.06001 1.157.1543 1.717l-19.74 11.39c-1.239.5653-2.1 1.816-2.1 3.266v65.51h.01562c.001603 1.235.6446 2.437 1.793 3.096l20.03 11.56c-.09429.5594-.1543 1.131-.1543 1.717.0 5.673 4.598 10.27 10.27 10.27 5.674.0 10.27-4.6 10.27-10.27.0-5.673-4.598-10.27-10.27-10.27-2.492.0-4.774.8879-6.553 2.363l-18.22-10.52v-61.4l18.22-10.52c1.778 1.475 4.061 2.363 6.553 2.363 5.674.0 10.27-4.6 10.27-10.27.0-5.673-4.598-10.27-10.27-10.27zm56.73.0c-5.673.0-10.27 4.598-10.27 10.27.0 5.673 4.598 10.27 10.27 10.27 2.492.0 4.776-.8879 6.555-2.363l18.22 10.52v61.4l-18.22 10.52c-1.778-1.474-4.062-2.361-6.553-2.361-5.673.0-10.27 4.598-10.27 10.27.0 5.673 4.598 10.27 10.27 10.27 5.675.0 10.27-4.6 10.27-10.27.0-.5862-.06002-1.157-.1543-1.717l19.74-11.39c1.239-.5653 2.1-1.814 2.1-3.264v-65.51h-.01562c-.00133-1.236-.6437-2.438-1.793-3.098l-20.03-11.56c.09428-.5594.1543-1.131.1543-1.717.0-5.673-4.597-10.27-10.27-10.27zm-28.37 20.76c-5.675.0-10.27 4.598-10.27 10.27.0 1.524.3402 2.967.9355 4.268l-14.76 14.76c-1.301-.5953-2.742-.9355-4.266-.9355-5.673.0-10.27 4.598-10.27 10.27.0 5.673 4.598 10.27 10.27 10.27 1.524.0 2.963-.3406 4.264-.9355l14.77 14.77c-.5953 1.301-.9355 2.742-.9355 4.266.0 5.673 4.599 10.27 10.27 10.27 5.672.0 10.27-4.596 10.27-10.27.0-1.524-.3401-2.965-.9355-4.266l15.63-15.63c.5748.0998 1.162.1621 1.766.1621 5.675.0 10.27-4.598 10.27-10.27.0-5.675-4.599-10.27-10.27-10.27-1.524.0-2.965.3404-4.266.9355l-13.13-13.13c.5954-1.301.9355-2.743.9355-4.268.0-5.673-4.599-10.27-10.27-10.27zm-4.266 19.61c1.3.5949 2.742.9355 4.266.9355 1.523.0 2.964-.3408 4.264-.9355l13.13 13.13c-.5948 1.3-.9355 2.742-.9355 4.266.0 2.377.8147 4.558 2.17 6.299l-14.36 14.37c-1.3-.5947-2.741-.9336-4.264-.9336-1.524.0-2.965.3388-4.266.9336l-14.77-14.77c.5949-1.3.9355-2.74.9355-4.264.0-1.523-.3389-2.964-.9336-4.264l14.76-14.77z"/></g></svg><span class=logo--name>gqlgen</span></a></div><nav><input class=hamburger-toggle type=checkbox><div class=hamburger><span></span><span></span><span></span></div><ul class=menu><li><a class=menu-item href=https://gqlgen.com/>Introduction</a></li><li><a class=menu-item href=https://gqlgen.com/getting-started/>Getting Started</a></li><li><a class=menu-item href=https://gqlgen.com/config/>Configuration</a></li><li><a class=menu-item href=https://gqlgen.com/feature-comparison/>Feature Comparison</a></li><li><span class="menu-item submenu-heading">Reference</span><ul class=submenu><li><a class=menu-item href=https://gqlgen.com/reference/apq/>APQ</a></li><li><a class=menu-item href=https://gqlgen.com/reference/changesets/>Changesets</a></li><li><a class=menu-item href=https://gqlgen.com/reference/dataloaders/>Dataloaders</a></li><li><a class=menu-item href=https://gqlgen.com/reference/field-collection/>Field Collection</a></li><li><a class=menu-item href=https://gqlgen.com/reference/file-upload/>File Upload</a></li><li><a class=menu-item href=https://gqlgen.com/reference/errors/>Handling Errors</a></li><li><a class=menu-item href=https://gqlgen.com/reference/introspection/>Introspection</a></li><li><a class=menu-item href=https://gqlgen.com/reference/plugins/>Plugins</a></li><li><a class=menu-item href=https://gqlgen.com/reference/complexity/>Query Complexity</a></li><li><a class=menu-item href=https://gqlgen.com/reference/resolvers/>Resolvers</a></li><li><a class=menu-item href=https://gqlgen.com/reference/scalars/>Scalars</a></li><li><a class=menu-item href=https://gqlgen.com/reference/directives/>Schema Directives</a></li><li><a class=menu-item href=https://godoc.org/github.com/99designs/gqlgen>godoc
<span class=icon><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M576 24v127.984c0 21.461-25.96 31.98-40.971 16.971l-35.707-35.709-243.523 243.523c-9.373 9.373-24.568 9.373-33.941.0l-22.627-22.627c-9.373-9.373-9.373-24.569.0-33.941L442.756 76.676l-35.703-35.705C391.982 25.9 402.656.0 424.024.0H552c13.255.0 24 10.745 24 24zM407.029 270.794l-16 16A23.999 23.999.0 00384 303.765V448H64V128h264a24.003 24.003.0 0016.97-7.029l16-16C376.089 89.851 365.381 64 344 64H48C21.49 64 0 85.49.0 112v352c0 26.51 21.49 48 48 48h352c26.51.0 48-21.49 48-48V287.764c0-21.382-25.852-32.09-40.971-16.97z"/></svg></span></a></li></ul></li><li><span class="menu-item submenu-heading">Recipes</span><ul class=submenu><li><a class=menu-item href=https://gqlgen.com/recipes/federation/>Apollo Federation</a></li><li><a class=menu-item href=https://gqlgen.com/recipes/authentication/>Authentication</a></li><li><a class=menu-item href=https://gqlgen.com/recipes/cors/>CORS</a></li><li><a class=menu-item href=https://gqlgen.com/recipes/gin/>Gin</a></li><li><a class=menu-item href=https://gqlgen.com/recipes/migration-0.11/>Migrating to 0.11</a></li><li><a class=menu-item href=https://gqlgen.com/recipes/modelgen-hook/>Modelgen hook</a></li></ul></li></ul></nav><header><div class=content><h1></h1><div class=description></div><a class=header-link target=_blank href=https://github.com/99designs/gqlgen/blob/master/docs/content/_introduction.md>[edit]</a></div></header><main><div class=content><h1 id=gqlgen-continuous-integrationhttpsgithubcom99designsgqlgenworkflowscontinuous20integrationbadgesvghttpsgithubcom99designsgqlgenactions-read-the-docshttpsbadgennetbadgedocsavailablegreenhttpgqlgencom-godochttpsgodocorggithubcom99designsgqlgenstatussvghttpsgodocorggithubcom99designsgqlgen>gqlgen <a href=https://github.com/99designs/gqlgen/actions><img src=https://github.com/99designs/gqlgen/workflows/Continuous%20Integration/badge.svg alt="Continuous Integration"></a> <a href=http://gqlgen.com/><img src=https://badgen.net/badge/docs/available/green alt="Read the Docs"></a> <a href=https://godoc.org/github.com/99designs/gqlgen><img src=https://godoc.org/github.com/99designs/gqlgen?status.svg alt=GoDoc></a></h1><p><img src=https://user-images.githubusercontent.com/46195831/89802919-0bb8ef00-db2a-11ea-8ba4-88e7a58b2fd2.png alt=gqlgen></p><h2 id=what-is-gqlgen>What is gqlgen?</h2><p><a href=https://github.com/99designs/gqlgen>gqlgen</a> is a Go library for building GraphQL servers without any fuss.</p><ul><li><strong>gqlgen is based on a Schema first approach</strong> — You get to Define your API using the GraphQL <a href=http://graphql.org/learn/schema/>Schema Definition Language</a>.</li><li><strong>gqlgen prioritizes Type safety</strong> — You should never see <code>map[string]interface{}</code> here.</li><li><strong>gqlgen enables Codegen</strong> — We generate the boring bits, so you can focus on building your app quickly.</li></ul><p>Still not convinced enough to use <strong>gqlgen</strong>? Compare <strong>gqlgen</strong> with other Go graphql <a href=https://gqlgen.com/feature-comparison/>implementations</a></p><h2 id=getting-started>Getting Started</h2><ul><li>To install gqlgen run the command <code>go get github.com/99designs/gqlgen</code> in your project directory.</li><li>You could initialize a new project using the recommended folder structure by running this command <code>go run github.com/99designs/gqlgen init</code>.</li></ul><p>You could find a more comprehensive guide to help you get started <a href=https://gqlgen.com/getting-started/>here</a>.
We also have a couple of real-world <a href=https://github.com/99designs/gqlgen/tree/master/example>examples</a> that show how to GraphQL applications with <strong>gqlgen</strong> seamlessly,
You can see these <a href=https://github.com/99designs/gqlgen/tree/master/example>examples</a> here or visit <a href=https://godoc.org/github.com/99designs/gqlgen>godoc</a>.</p><h2 id=reporting-issues>Reporting Issues</h2><p>If you think you&rsquo;ve found a bug, or something isn&rsquo;t behaving the way you think it should, please raise an <a href=https://github.com/99designs/gqlgen/issues>issue</a> on GitHub.</p><h2 id=contributing>Contributing</h2><p>We welcome contributions, Read our <a href=https://github.com/99designs/gqlgen/blob/master/CONTRIBUTING.md>Contribution Guidelines</a> to learn more about contributing to <strong>gqlgen</strong></p><h2 id=frequently-asked-questions>Frequently asked questions</h2><h3 id=how-do-i-prevent-fetching-child-objects-that-might-not-be-used>How do I prevent fetching child objects that might not be used?</h3><p>When you have nested or recursive schema like this:</p><div class=highlight><pre class=chroma><code class=language-graphql data-lang=graphql><span class=kd>type</span><span class=w> </span><span class=nc>User</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>  </span><span class=py>id</span><span class=p>:</span><span class=w> </span><span class=nc>ID</span><span class=p>!</span><span class=w>
</span><span class=w>  </span><span class=py>name</span><span class=p>:</span><span class=w> </span><span class=nc>String</span><span class=p>!</span><span class=w>
</span><span class=w>  </span><span class=py>friends</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=nc>User</span><span class=p>!]!</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span></code></pre></div><p>You need to tell gqlgen that it should only fetch friends if the user requested it. There are two ways to do this;</p><ul><li><h4 id=using-custom-models>Using Custom Models</h4></li></ul><p>Write a custom model that omits the friends field:</p><div class=highlight><pre class=chroma><code class=language-go data-lang=go><span class=kd>type</span> <span class=nx>User</span> <span class=kd>struct</span> <span class=p>{</span>
  <span class=nx>ID</span> <span class=kt>int</span>
  <span class=nx>Name</span> <span class=kt>string</span>
<span class=p>}</span>
</code></pre></div><p>And reference the model in <code>gqlgen.yml</code>:</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=c># gqlgen.yml</span><span class=w>
</span><span class=w></span><span class=nt>models</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>User</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>model</span><span class=p>:</span><span class=w> </span><span class=l>github.com/you/pkg/model.User</span><span class=w> </span><span class=c># go import path to the User struct above</span><span class=w>
</span></code></pre></div><ul><li><h4 id=using-explicit-resolvers>Using Explicit Resolvers</h4></li></ul><p>If you want to Keep using the generated model, mark the field as requiring a resolver explicitly in <code>gqlgen.yml</code> like this:</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=c># gqlgen.yml</span><span class=w>
</span><span class=w></span><span class=nt>models</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>User</span><span class=p>:</span><span class=w>
</span><span class=w>    </span><span class=nt>fields</span><span class=p>:</span><span class=w>
</span><span class=w>      </span><span class=nt>friends</span><span class=p>:</span><span class=w>
</span><span class=w>        </span><span class=nt>resolver</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># force a resolver to be generated</span><span class=w>
</span></code></pre></div><p>After doing either of the above and running generate we will need to provide a resolver for friends:</p><div class=highlight><pre class=chroma><code class=language-go data-lang=go><span class=kd>func</span> <span class=p>(</span><span class=nx>r</span> <span class=o>*</span><span class=nx>userResolver</span><span class=p>)</span> <span class=nf>Friends</span><span class=p>(</span><span class=nx>ctx</span> <span class=nx>context</span><span class=p>.</span><span class=nx>Context</span><span class=p>,</span> <span class=nx>obj</span> <span class=o>*</span><span class=nx>User</span><span class=p>)</span> <span class=p>([]</span><span class=o>*</span><span class=nx>User</span><span class=p>,</span> <span class=kt>error</span><span class=p>)</span> <span class=p>{</span>
  <span class=c1>// select * from user where friendid = obj.ID
</span><span class=c1></span>  <span class=k>return</span> <span class=nx>friends</span><span class=p>,</span>  <span class=kc>nil</span>
<span class=p>}</span>
</code></pre></div><p>You can also use inline config with directives to achieve the same result</p><div class=highlight><pre class=chroma><code class=language-graphql data-lang=graphql><span class=kd>directive</span><span class=w> </span><span class=nd>@goModel</span><span class=p>(</span><span class=py>model</span><span class=p>:</span><span class=w> </span><span class=nc>String</span><span class=p>,</span><span class=w> </span><span class=py>models</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=nc>String</span><span class=p>!])</span><span class=w> </span><span class=kd>on</span><span class=w> </span><span class=kc>OBJECT</span><span class=w>
</span><span class=w>    </span><span class=p>|</span><span class=w> </span><span class=kc>INPUT_OBJECT</span><span class=w>
</span><span class=w>    </span><span class=p>|</span><span class=w> </span><span class=kc>SCALAR</span><span class=w>
</span><span class=w>    </span><span class=p>|</span><span class=w> </span><span class=kc>ENUM</span><span class=w>
</span><span class=w>    </span><span class=p>|</span><span class=w> </span><span class=kc>INTERFACE</span><span class=w>
</span><span class=w>    </span><span class=p>|</span><span class=w> </span><span class=kc>UNION</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=kd>directive</span><span class=w> </span><span class=nd>@goField</span><span class=p>(</span><span class=py>forceResolver</span><span class=p>:</span><span class=w> </span><span class=nc>Boolean</span><span class=p>,</span><span class=w> </span><span class=py>name</span><span class=p>:</span><span class=w> </span><span class=nc>String</span><span class=p>)</span><span class=w> </span><span class=kd>on</span><span class=w> </span><span class=kc>INPUT_FIELD_DEFINITION</span><span class=w>
</span><span class=w>    </span><span class=p>|</span><span class=w> </span><span class=kc>FIELD_DEFINITION</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=kd>type</span><span class=w> </span><span class=nc>User</span><span class=w> </span><span class=nd>@goModel</span><span class=p>(</span><span class=py>model</span><span class=p>:</span><span class=w> </span><span class=s>&#34;github.com/you/pkg/model.User&#34;</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=nc>id</span><span class=p>:</span><span class=w> </span><span class=nc>ID</span><span class=p>!</span><span class=w>         </span><span class=nd>@goField</span><span class=p>(</span><span class=py>name</span><span class=p>:</span><span class=w> </span><span class=s>&#34;todoId&#34;</span><span class=p>)</span><span class=w>
</span><span class=w>    </span><span class=nc>friends</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=nc>User</span><span class=p>!]!</span><span class=w>   </span><span class=nd>@goField</span><span class=p>(</span><span class=py>forceResolver</span><span class=p>:</span><span class=w> </span><span class=nc>true</span><span class=p>)</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span></code></pre></div><h3 id=can-i-change-the-type-of-the-id-from-type-string-to-type-int>Can I change the type of the ID from type String to Type Int?</h3><p>Yes! You can by remapping it in config as seen below:</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=nt>models</span><span class=p>:</span><span class=w>
</span><span class=w>  </span><span class=nt>ID</span><span class=p>:</span><span class=w> </span><span class=c># The GraphQL type ID is backed by</span><span class=w>
</span><span class=w>    </span><span class=nt>model</span><span class=p>:</span><span class=w>
</span><span class=w>      </span>- <span class=l>github.com/99designs/gqlgen/graphql.IntID</span><span class=w> </span><span class=c># An go integer</span><span class=w>
</span><span class=w>      </span>- <span class=l>github.com/99designs/gqlgen/graphql.ID</span><span class=w> </span><span class=c># or a go string</span><span class=w>
</span></code></pre></div><p>This means gqlgen will be able to automatically bind to strings or ints for models you have written yourself, but the
first model in this list is used as the default type and it will always be used when:</p><ul><li>Generating models based on schema</li><li>As arguments in resolvers</li></ul><p>There isn&rsquo;t any way around this, gqlgen has no way to know what you want in a given context.</p><h2 id=other-resources>Other Resources</h2><ul><li><a href=https://youtu.be/FdURVezcdcw>Christopher Biscardi @ Gophercon UK 2018</a></li><li><a href=https://99designs.com.au/blog/engineering/gqlgen-a-graphql-server-generator-for-go/>Introducing gqlgen: a GraphQL Server Generator for Go</a></li><li><a href=https://medium.com/@ivan.corrales.solera/dive-into-graphql-9bfedf22e1a>Dive into GraphQL by Iván Corrales Solera</a></li><li><a href=https://github.com/oshalygin/gqlgen-pg-todo-example>Sample Project built on gqlgen with Postgres by Oleg Shalygin</a></li></ul></div></main></body></html>